<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Stack Overflow Developer Survey Characterizations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="so_eda_files/libs/clipboard/clipboard.min.js"></script>
<script src="so_eda_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="so_eda_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="so_eda_files/libs/quarto-html/popper.min.js"></script>
<script src="so_eda_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="so_eda_files/libs/quarto-html/anchor.min.js"></script>
<link href="so_eda_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="so_eda_files/libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="so_eda_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="so_eda_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="so_eda_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Stack Overflow Developer Survey Characterizations</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="stack-overflow-developer-survey-characterizations" class="level1">
<h1>Stack Overflow Developer Survey Characterizations</h1>
<div id="19a91972" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split, GridSearchCV</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pprint</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># %pprint</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> linear_model</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MultiLabelBinarizer, StandardScaler</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> mean_absolute_error, mean_squared_error, r2_score</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.svm <span class="im">import</span> LinearSVC</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="executive-summary" class="level2">
<h2 class="anchored" data-anchor-id="executive-summary">Executive Summary</h2>
<p>In this project I explore how the answers selected by respondents of the 2024 Stack Overflow Developer Survey represent each individual user. I will take as a case study the available 2024 Stack Overflow Developer Survey responses to assess the answers users provided to a group of relevant questions. Through my exploratory data analysis, I have found that developers who have a lower number of years programming as their profession tend to use generative artificiall intelligence tools more than those with a higher number of years programming professionally. However, a developer’s use of artifical intelligence had little impact on the annual salary they were already earning. With the use of predictive models, I found a handful of predictors which effectively predict the salary a professional developer should earn. Additionally, I used a Linear Support Vector Classifier (SVC) which attempted to determine whether a respondent used artifcial intelligence tools in their workflow. Despite my model’s higher score, there is no clear relationship between a respondent’s survey responses and their use of AI tools.</p>
</section>
<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>Stack Overflow is an online form mainly used by developers who are looking for help with a wide range of programming problems. The scope of the questions posted on Stack Overflow can range from asking about a high-level overview about a programming paradigms, architectural patterns, and languages, all the way down to specific errors with concrete lines of code or files. Responses to these questions come from the community, and are promoted by their effectiveness, accuracy, and performance. The community sourced questions an responses led to the rapid popularity of the website, becoming the goto website when developers of all experience levels have issues while programming. In 2010, the website launched the Stack Overflow Annual Survey to gather demographics about it’s users to improve advertising targeting on the website. The website continued to release surveys every year, with the number of annual respondents growing from 2,532 all the way up to 2024’s total of 65,437 respondents.</p>
</section>
<section id="initial-research-question" class="level2">
<h2 class="anchored" data-anchor-id="initial-research-question">Initial Research Question</h2>
<p>Before my exploratory data analysis, my initial research question was to find a relationship between developer’s use of artificial intelligence as part of their workflow and their salary. The Developer Survey asks the respondent which tools they have used and would like to use, as well as what their current salary is. In the dataset provided by Stack Overflow, there are numerous rows of data which are missing responses to one or both questions. Due to the already low number of samples, removing all rows with missing values would result in just under 19,000 rows to perform analysis on. As a result, I amended by research question to investigate the relationships within respondents’ survey answers to see if the answers they provided could predict other answers. <strong>Hence, I would like to know the expected salary of a developer dependent on their survey responses.</strong></p>
</section>
<section id="approach-to-research" class="level2">
<h2 class="anchored" data-anchor-id="approach-to-research">Approach to research</h2>
<p>In order to address my initial research question, I will study the relationships between a user’s annual salary and responses to relevant questions on the survey. On the survey, each respondent is given a list of programming languages, and asked to indicate which languages they extensively used in the past year and which languages they would like to use in the coming year. The survey asks other relevant questions including: a programmer’s age backet, the number of years they’ve been coding personally and professionally; and the type of programmer which best characterizes themselves. The main part of this project will be assessing how the various langauges, years of experience, and other factors impact their expected salary.</p>
</section>
<section id="approach-to-research-1" class="level2">
<h2 class="anchored" data-anchor-id="approach-to-research-1">Approach to research</h2>
<p>In order to address my initial research question, I will study the relationships between a user’s annual salary and responses to relevant questions on the survey. On the survey, each respondent is given a list of programming languages, and asked to indicate which languages they extensively used in the past year and which languages they would like to use in the coming year. The survey asks other relevant questions including: a programmer’s age backet, the number of years they’ve been coding personally and professionally; and the type of programmer which best characterizes themselves. The main part of this project will be assessing how the various langauges, years of experience, and other factors impact their expected salary.</p>
<section id="survey-response-data" class="level3">
<h3 class="anchored" data-anchor-id="survey-response-data">Survey Response Data</h3>
<p>The data from the Stack Overflow website is a <code>.zip</code> file containing two <code>.csv</code> documents, as well as a pdf of the original survey. The first <code>.csv</code> document is the data schema, relating each column title to a question from the survey. The schema is mostly accurate, but deviates when users are asked to select from a list programming languages, technologies, tools, etc. and indicate which ones they previously worked with and would like to work with. The second <code>.csv</code> file is the survey result data from the 65,437 responses, with 115 columns. The columns in the data mostly follow the columns defined in the schema, with the previously mentioned exception.</p>
<div id="0bf41766" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> pd.read_csv(<span class="st">'data/survey_results_public_training.csv'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Unnamed: 0</th>
<th data-quarto-table-cell-role="th">ResponseId</th>
<th data-quarto-table-cell-role="th">MainBranch</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Employment</th>
<th data-quarto-table-cell-role="th">RemoteWork</th>
<th data-quarto-table-cell-role="th">Check</th>
<th data-quarto-table-cell-role="th">CodingActivities</th>
<th data-quarto-table-cell-role="th">EdLevel</th>
<th data-quarto-table-cell-role="th">LearnCode</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">JobSatPoints_6</th>
<th data-quarto-table-cell-role="th">JobSatPoints_7</th>
<th data-quarto-table-cell-role="th">JobSatPoints_8</th>
<th data-quarto-table-cell-role="th">JobSatPoints_9</th>
<th data-quarto-table-cell-role="th">JobSatPoints_10</th>
<th data-quarto-table-cell-role="th">JobSatPoints_11</th>
<th data-quarto-table-cell-role="th">SurveyLength</th>
<th data-quarto-table-cell-role="th">SurveyEase</th>
<th data-quarto-table-cell-role="th">ConvertedCompYearly</th>
<th data-quarto-table-cell-role="th">JobSat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>51005</td>
<td>51006</td>
<td>I am a developer by profession</td>
<td>55-64 years old</td>
<td>Employed, full-time</td>
<td>Hybrid (some remote, some in-person)</td>
<td>Apples</td>
<td>Hobby;Bootstrapping a business;Professional de...</td>
<td>Master’s degree (M.A., M.S., M.Eng., MBA, etc.)</td>
<td>On the job training;School (i.e., University, ...</td>
<td>...</td>
<td>20.0</td>
<td>20.0</td>
<td>0.0</td>
<td>20.0</td>
<td>0.0</td>
<td>0.0</td>
<td>Appropriate in length</td>
<td>Easy</td>
<td>NaN</td>
<td>9.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>23933</td>
<td>23934</td>
<td>I am a developer by profession</td>
<td>35-44 years old</td>
<td>Employed, full-time</td>
<td>Hybrid (some remote, some in-person)</td>
<td>Apples</td>
<td>Hobby</td>
<td>Master’s degree (M.A., M.S., M.Eng., MBA, etc.)</td>
<td>Books / Physical media;On the job training;Oth...</td>
<td>...</td>
<td>49.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>Too long</td>
<td>Difficult</td>
<td>98814.0</td>
<td>9.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>59120</td>
<td>59121</td>
<td>I am a developer by profession</td>
<td>25-34 years old</td>
<td>Employed, full-time</td>
<td>Remote</td>
<td>Apples</td>
<td>Hobby;Contribute to open-source projects;Boots...</td>
<td>Master’s degree (M.A., M.S., M.Eng., MBA, etc.)</td>
<td>Other online resources (e.g., videos, blogs, f...</td>
<td>...</td>
<td>5.0</td>
<td>15.0</td>
<td>15.0</td>
<td>15.0</td>
<td>0.0</td>
<td>5.0</td>
<td>Appropriate in length</td>
<td>Neither easy nor difficult</td>
<td>NaN</td>
<td>3.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1552</td>
<td>1553</td>
<td>I am a developer by profession</td>
<td>25-34 years old</td>
<td>Employed, full-time</td>
<td>Remote</td>
<td>Apples</td>
<td>Hobby;Contribute to open-source projects;Profe...</td>
<td>Master’s degree (M.A., M.S., M.Eng., MBA, etc.)</td>
<td>Books / Physical media;Other online resources ...</td>
<td>...</td>
<td>50.0</td>
<td>0.0</td>
<td>0.0</td>
<td>30.0</td>
<td>0.0</td>
<td>0.0</td>
<td>Appropriate in length</td>
<td>Neither easy nor difficult</td>
<td>83777.0</td>
<td>2.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>61241</td>
<td>61242</td>
<td>I am a developer by profession</td>
<td>25-34 years old</td>
<td>Employed, full-time</td>
<td>In-person</td>
<td>Apples</td>
<td>Hobby;Contribute to open-source projects;Boots...</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 115 columns</p>
</div>
</div>
</div>
</section>
<section id="cleaning-response-data" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-response-data">Cleaning Response Data</h3>
<p>If I run <code>.dropna()</code> on the entire dataset, the call results in a <code>DataFrame</code> with zero rows.</p>
<div id="29d52e2c" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data_no_na <span class="op">=</span> data.dropna()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data_no_na</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Unnamed: 0</th>
<th data-quarto-table-cell-role="th">ResponseId</th>
<th data-quarto-table-cell-role="th">MainBranch</th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Employment</th>
<th data-quarto-table-cell-role="th">RemoteWork</th>
<th data-quarto-table-cell-role="th">Check</th>
<th data-quarto-table-cell-role="th">CodingActivities</th>
<th data-quarto-table-cell-role="th">EdLevel</th>
<th data-quarto-table-cell-role="th">LearnCode</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">JobSatPoints_6</th>
<th data-quarto-table-cell-role="th">JobSatPoints_7</th>
<th data-quarto-table-cell-role="th">JobSatPoints_8</th>
<th data-quarto-table-cell-role="th">JobSatPoints_9</th>
<th data-quarto-table-cell-role="th">JobSatPoints_10</th>
<th data-quarto-table-cell-role="th">JobSatPoints_11</th>
<th data-quarto-table-cell-role="th">SurveyLength</th>
<th data-quarto-table-cell-role="th">SurveyEase</th>
<th data-quarto-table-cell-role="th">ConvertedCompYearly</th>
<th data-quarto-table-cell-role="th">JobSat</th>
</tr>
</thead>
<tbody>
</tbody>
</table>

<p>0 rows × 115 columns</p>
</div>
</div>
</div>
<p>This means I will have to select the features I identify as being most relevant to answer my initial research question. Some of the columns I chose to include in my analysis were related to a respondent’s age, number of years personally and professionally programming, the languages previously worked with, inclusion of generative AI in their workflows, and their yearly salary.</p>
<div id="1ab37244" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>salary_data <span class="op">=</span> data[[</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Categorical vars which need one-hot encoding</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Age'</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Numeric variables</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'MainBranch'</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'YearsCode'</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'YearsCodePro'</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'WorkExp'</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'LanguageHaveWorkedWith'</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Target variable</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ConvertedCompYearly'</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>]].dropna()</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>salary_data.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">MainBranch</th>
<th data-quarto-table-cell-role="th">YearsCode</th>
<th data-quarto-table-cell-role="th">YearsCodePro</th>
<th data-quarto-table-cell-role="th">WorkExp</th>
<th data-quarto-table-cell-role="th">LanguageHaveWorkedWith</th>
<th data-quarto-table-cell-role="th">ConvertedCompYearly</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>35-44 years old</td>
<td>I am a developer by profession</td>
<td>19</td>
<td>8</td>
<td>8.0</td>
<td>Bash/Shell (all shells);C;C++;Go;Haskell;Prolo...</td>
<td>98814.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>25-34 years old</td>
<td>I am a developer by profession</td>
<td>12</td>
<td>8</td>
<td>8.0</td>
<td>C#;PowerShell</td>
<td>83777.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>25-34 years old</td>
<td>I am a developer by profession</td>
<td>7</td>
<td>4</td>
<td>4.0</td>
<td>Bash/Shell (all shells);C++;HTML/CSS;JavaScrip...</td>
<td>65518.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>25-34 years old</td>
<td>I am a developer by profession</td>
<td>14</td>
<td>7</td>
<td>7.0</td>
<td>Bash/Shell (all shells);C#;HTML/CSS;JavaScript...</td>
<td>87841.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>35-44 years old</td>
<td>I am a developer by profession</td>
<td>22</td>
<td>16</td>
<td>16.0</td>
<td>Bash/Shell (all shells);Go;HTML/CSS;JavaScript...</td>
<td>216559.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The first notable case is in the two columns recording a respondent’s number of years programming, and the number of years they’ve been programming as part of their profession. Responses are mostly numeric, with the exception of those who chose “Less than 1 year” or “More than 50 years”. To clean these two values and convert the entire column to integer values, I made the decision to convert all “Less than 1 year” responses to 0, and all “More than 50 years” responses to 51. These two values were picked because it will simplify analysis and prediction if the models work with whole years. This conclusion also motivated the decision to set all “More than 50 years” responses to 51, as I am certain that all respondents who chose that answer worked greater than or equal to 51 years, but I cannot make any conclusion as to whether or not they served 52+ years.</p>
<div id="361f5832" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_years(year):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> year <span class="op">==</span> <span class="st">'Less than 1 year'</span> <span class="kw">or</span> pd.isnull(year):</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.int64(<span class="dv">0</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> year <span class="op">==</span> <span class="st">'More than 50 years'</span>:</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.int64(<span class="dv">51</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.int64(year)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>salary_data[<span class="st">'YearsCode'</span>] <span class="op">=</span> salary_data[<span class="st">'YearsCode'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>salary_data[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> salary_data[<span class="st">'YearsCodePro'</span>].<span class="bu">apply</span>(clean_years)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The other notable case of cleaning is every column where respondents are asked to choose from a list of programming languages, tools, etc. To make these lists easier to work with, I ran each relevant column through a <code>MultiLabelBinarizer</code> which effectively took all unique choices from each response and one-hot encoded each unique choice as its own column in the dataframe. This way, I could easily identify all responses who picked any specific programming language.</p>
<div id="89ae0779" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> str_to_list(string):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(string, <span class="bu">str</span>):</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> string.split(<span class="st">';'</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> []</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>salary_data[<span class="st">'LanguageHaveWorkedWith'</span>] <span class="op">=</span> salary_data[<span class="st">'LanguageHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>mlb <span class="op">=</span> MultiLabelBinarizer()</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>unique_langs_encoded <span class="op">=</span> mlb.fit_transform(salary_data[<span class="st">'LanguageHaveWorkedWith'</span>])</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>lang_choice <span class="op">=</span> pd.DataFrame(unique_langs_encoded, columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>langs_encoded <span class="op">=</span> pd.concat([salary_data.drop(columns<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>), lang_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(langs_encoded.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>['Age',
 'MainBranch',
 'YearsCode',
 'YearsCodePro',
 'WorkExp',
 'ConvertedCompYearly']</code></pre>
</div>
</div>
<p>To complete the cleaning and preprocessing, I will one-hot encode the <code>Age</code> and <code>MainBranch</code> features, as they categorize users into groups.</p>
<div id="bc898bce" class="cell" data-execution_count="41">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>salary_data_encoded <span class="op">=</span> pd.get_dummies(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    langs_encoded,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Age'</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'MainBranch'</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    drop_first<span class="op">=</span><span class="va">True</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>).dropna()</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(salary_data_encoded.columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>['YearsCode',
 'YearsCodePro',
 'WorkExp',
 'ConvertedCompYearly',
 'Age_25-34 years old',
 'Age_35-44 years old',
 'Age_45-54 years old',
 'Age_55-64 years old',
 'Age_65 years or older',
 'Age_Prefer not to say',
 'Age_Under 18 years old',
 'MainBranch_I am not primarily a developer, but I write code sometimes as part of my work/studies']</code></pre>
</div>
</div>
</section>
</section>
<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<section id="potential-response-variables" class="level3">
<h3 class="anchored" data-anchor-id="potential-response-variables">Potential Response Variables</h3>
<p>I attempted to answer my first research question by plotting a violin plot displaying a respondent’s yearly salary vs.&nbsp;their inclusion of AI into their workflows. This chart was how I discovered that there was not a significant difference in yeary compensation between those who do an do not incorporate AI. <code>ConvertedCompYearly</code></p>
<div id="fa16104d" class="cell" data-execution_count="42">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ai_data <span class="op">=</span> data[[<span class="st">'AISelect'</span>, <span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add label to indicate that the x axis is on log scale</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>sns.violinplot(data<span class="op">=</span>ai_data, x<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>, y<span class="op">=</span><span class="st">'AISelect'</span>, log_scale<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>After making this discovery, I decided to investigate each attribute individually to try to find relationships between other pairs of attributes. These relationships will be discussed in the Potential Predictor Variables section of this report.</p>
</section>
<section id="potential-predictor-variables" class="level3">
<h3 class="anchored" data-anchor-id="potential-predictor-variables">Potential Predictor Variables</h3>
<section id="age" class="level4">
<h4 class="anchored" data-anchor-id="age">Age</h4>
<p>Stack Overflow decided to categorize respondents in age brackets, rather than allowing them to respond with an exact number of years. While this initially confused me, it soon proved very useful to group respondents by these buckets, as I was able to easily draw meaningful conclusions about developers based upon which age group they fell in. A developer’s age can have a great impact on their potential salary, because it is generally known that as a developer gets older, they have more time working in the industry, and hence more experience. Employers seek out those with greater experience, and are willing to compensate experienced developers handsomely. The unique aspect of age is that it does not have a direct relationship between a developer’s time learning to code and programming professionally.</p>
<div id="2a536134" class="cell" data-execution_count="43">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data[<span class="st">'Age'</span>].dropna())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="years-coding-in-total" class="level4">
<h4 class="anchored" data-anchor-id="years-coding-in-total">Years Coding in Total</h4>
<p>The Developer Survey asks: “Including any education, how many years have you been coding in total?”. This metric is useful because many people consider themselves hobbyist developers, or many respondents are still pursuing higher education and have not had the opportunity to break into the industry at the time of the survey. Additionally, since this includes time coding both inside and outside of work, it may prove to be a better indicator of one’s programming proficiency.</p>
<div id="8b7d2972" class="cell" data-execution_count="44">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data[<span class="st">'YearsCode'</span>].dropna())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="years-coding-at-work" class="level4">
<h4 class="anchored" data-anchor-id="years-coding-at-work">Years Coding at Work</h4>
<p>For this metric, the Developer Survey asks: “NOT including education, how many years have you coded professionally (as a part of your work)?” Stack Overflow’s makes it clear that it wants to know only the amount of time a user spends coding as part of their profession. Note that this question does not exclude professions outside of software development, conscious of the fact that other professionals, from business, accounting, research, healthcare, etc. may include programming as part of their professional work/duties. This metric could be useful to gauge how much value coding adds to those professions.</p>
<div id="562d9899" class="cell" data-execution_count="45">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>sns.histplot(data[<span class="st">'YearsCodePro'</span>].dropna())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="languages-extensively-worked-with" class="level4">
<h4 class="anchored" data-anchor-id="languages-extensively-worked-with">Languages Extensively Worked With</h4>
<p>This attribute is derived from one of the survey questions where respondents are asked to indicate, for this specific attribute, which programming language they either have worked extensively with in the past year or which language they desire to work with in the coming year. The dataset has three columns, one indicating extensive use in the past year, one indicating desire to use in the next year, and a third column to indicate the decision of both. While software engineering is more about the design of systems, there are trends and standards in different industries which could impact the salary a developer expects to earn if they study a particular programming language.</p>
<div id="69ff62a6" class="cell" data-execution_count="65">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>lang_data <span class="op">=</span> data[[<span class="st">'LanguageHaveWorkedWith'</span>, <span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>lang_data[<span class="st">'LanguageHaveWorkedWith'</span>] <span class="op">=</span> lang_data[<span class="st">'LanguageHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>mlb <span class="op">=</span> MultiLabelBinarizer()</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>unique_langs_encoded <span class="op">=</span> mlb.fit_transform(lang_data[<span class="st">'LanguageHaveWorkedWith'</span>])</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>lang_choice <span class="op">=</span> pd.DataFrame(unique_langs_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>langs_encoded <span class="op">=</span> pd.concat([lang_data.drop(columns<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>), lang_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(langs_encoded.columns)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>langs_encoded.drop(columns<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>).<span class="bu">sum</span>()</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=-</span><span class="dv">90</span>)</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>plt.bar(langs_encoded.drop(columns<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>).columns, langs_encoded.drop(columns<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>).<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="variable-relationships" class="level3">
<h3 class="anchored" data-anchor-id="variable-relationships">Variable Relationships</h3>
<section id="age-and-annual-salary" class="level4">
<h4 class="anchored" data-anchor-id="age-and-annual-salary">Age and Annual Salary</h4>
<p>To explore the relationship between age and annual salary, I will plot a violin graph with the age brackets as the cateogries, and the annual salary as the numeric variable.</p>
<div id="e48802e6" class="cell" data-execution_count="47">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>age_data <span class="op">=</span> data[[<span class="st">'Age'</span>, <span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>sns.violinplot(data<span class="op">=</span>age_data,  x<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>, y<span class="op">=</span><span class="st">'Age'</span>, log_scale<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="years-coding-and-annual-salary" class="level4">
<h4 class="anchored" data-anchor-id="years-coding-and-annual-salary">Years Coding and Annual Salary</h4>
<p>To explore the relationship between total time spent coding and annual salary, I will create a scatter plot with the two numeric variables.</p>
<div id="4da83298" class="cell" data-execution_count="48">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>total_years_data <span class="op">=</span> data[[<span class="st">'YearsCode'</span>, <span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>total_years_data[<span class="st">'YearsCode'</span>] <span class="op">=</span> total_years_data[<span class="st">'YearsCode'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>total_years_data, y<span class="op">=</span><span class="st">'YearsCode'</span>, x<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.xscale(<span class="st">'log'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="years-coding-at-work-and-annual-salary" class="level4">
<h4 class="anchored" data-anchor-id="years-coding-at-work-and-annual-salary">Years Coding at Work and Annual Salary</h4>
<p>Similar to the previous attribute, I will create a scatter plot of the years coding at work vs.&nbsp;their annual salary.</p>
<div id="c49d2d28" class="cell" data-execution_count="49">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>total_pro_years_data <span class="op">=</span> data[[<span class="st">'YearsCodePro'</span>, <span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>total_pro_years_data[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> total_pro_years_data[<span class="st">'YearsCodePro'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>total_pro_years_data, y<span class="op">=</span><span class="st">'YearsCodePro'</span>, x<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>plt.xscale(<span class="st">'log'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-16-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="languages-extensively-worked-with-and-annual-salary" class="level4">
<h4 class="anchored" data-anchor-id="languages-extensively-worked-with-and-annual-salary">Languages Extensively Worked With and Annual Salary</h4>
<p>To explore the relationship between language extensively used in the previous year and annual salary, I will create a bar graph displaying the average salary of respondents who used a given language.</p>
<div id="2204f53d" class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>lang_data <span class="op">=</span> data[[<span class="st">'LanguageHaveWorkedWith'</span>, <span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>lang_data[<span class="st">'LanguageHaveWorkedWith'</span>] <span class="op">=</span> lang_data[<span class="st">'LanguageHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>mlb <span class="op">=</span> MultiLabelBinarizer()</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>unique_langs_encoded <span class="op">=</span> mlb.fit_transform(lang_data[<span class="st">'LanguageHaveWorkedWith'</span>])</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>lang_choice <span class="op">=</span> pd.DataFrame(unique_langs_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>langs_encoded <span class="op">=</span> pd.concat([lang_data.drop(columns<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>), lang_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>avg_comp_yearly <span class="op">=</span> {}</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> lang <span class="kw">in</span> langs_encoded.drop(columns<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>):</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    avg_comp <span class="op">=</span> langs_encoded.loc[langs_encoded[lang].astype(<span class="bu">bool</span>), <span class="st">'ConvertedCompYearly'</span>].mean()</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    avg_comp_yearly[lang] <span class="op">=</span> avg_comp</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>avg_salary_df <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(avg_comp_yearly.items()), columns<span class="op">=</span>[<span class="st">'LanguageHaveWorkedWith'</span>, <span class="st">'AverageCompYearly'</span>])</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>avg_salary_df <span class="op">=</span> avg_salary_df.sort_values(by<span class="op">=</span><span class="st">'AverageCompYearly'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>plt.yscale(<span class="st">'log'</span>)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=-</span><span class="dv">90</span>)</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>avg_salary_df, x<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>, y<span class="op">=</span><span class="st">'AverageCompYearly'</span>)</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="co"># For every lang in langs_encoded.drop(columns='ConvertedCompYearly')...</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Take the lang and make it it's own column on the barplot</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="co"># then filter the dataframe for every row where &lt;target_lang&gt; == True</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Take average of all ConvertedCompYearly</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Make that average the value of the bar.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="50">
<pre><code>([0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  18,
  19,
  20,
  21,
  22,
  23,
  24,
  25,
  26,
  27,
  28,
  29,
  30,
  31,
  32,
  33,
  34,
  35,
  36,
  37,
  38,
  39,
  40,
  41,
  42,
  43,
  44,
  45,
  46,
  47,
  48],
 [Text(0, 0, 'Lua'),
  Text(1, 0, 'Rust'),
  Text(2, 0, 'Visual Basic (.Net)'),
  Text(3, 0, 'Objective-C'),
  Text(4, 0, 'C'),
  Text(5, 0, 'C++'),
  Text(6, 0, 'Apex'),
  Text(7, 0, 'Ada'),
  Text(8, 0, 'JavaScript'),
  Text(9, 0, 'Ruby'),
  Text(10, 0, 'Perl'),
  Text(11, 0, 'Dart'),
  Text(12, 0, 'Prolog'),
  Text(13, 0, 'Haskell'),
  Text(14, 0, 'PowerShell'),
  Text(15, 0, 'Nim'),
  Text(16, 0, 'Swift'),
  Text(17, 0, 'Cobol'),
  Text(18, 0, 'OCaml'),
  Text(19, 0, 'Kotlin'),
  Text(20, 0, 'Crystal'),
  Text(21, 0, 'MicroPython'),
  Text(22, 0, 'VBA'),
  Text(23, 0, 'Solidity'),
  Text(24, 0, 'Fortran'),
  Text(25, 0, 'Zig'),
  Text(26, 0, 'Zephyr'),
  Text(27, 0, 'R'),
  Text(28, 0, 'F#'),
  Text(29, 0, 'Java'),
  Text(30, 0, 'Erlang'),
  Text(31, 0, 'MATLAB'),
  Text(32, 0, 'Clojure'),
  Text(33, 0, 'SQL'),
  Text(34, 0, 'Scala'),
  Text(35, 0, 'Go'),
  Text(36, 0, 'Julia'),
  Text(37, 0, 'GDScript'),
  Text(38, 0, 'Elixir'),
  Text(39, 0, 'Groovy'),
  Text(40, 0, 'Lisp'),
  Text(41, 0, 'Delphi'),
  Text(42, 0, 'Bash/Shell (all shells)'),
  Text(43, 0, 'C#'),
  Text(44, 0, 'TypeScript'),
  Text(45, 0, 'Assembly'),
  Text(46, 0, 'PHP'),
  Text(47, 0, 'HTML/CSS'),
  Text(48, 0, 'Python')])</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-17-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="age-and-use-of-ai" class="level4">
<h4 class="anchored" data-anchor-id="age-and-use-of-ai">Age and Use of AI</h4>
<p>To explore the relationship between age and use of AI, I will create a table showing the number of respondents who responded with each combination of the two choices.</p>
<div id="5d6e9654" class="cell" data-execution_count="51">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>age_ai <span class="op">=</span> data[[<span class="st">'Age'</span>, <span class="st">'AISelect'</span>]].dropna()</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># age_ai['AISelect'] = age_ai['AISelect'].map({</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#     'Yes': True,</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#     'No, but I plan to soon': False,</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     'No, and I don\'t plan to': False,</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># })</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># sns.violinplot(data=age_data,  x='ConvertedCompYearly', y='Age', log_scale=True)</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>yes_ai <span class="op">=</span> age_ai.groupby([<span class="st">'Age'</span>, <span class="st">'AISelect'</span>]).size().reset_index(name<span class="op">=</span><span class="st">'Count'</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>yes_ai, y<span class="op">=</span><span class="st">'Age'</span>, x<span class="op">=</span><span class="st">'Count'</span>, hue<span class="op">=</span><span class="st">'AISelect'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-18-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="years-coding-and-use-of-ai" class="level4">
<h4 class="anchored" data-anchor-id="years-coding-and-use-of-ai">Years Coding and Use of AI</h4>
<p>To explore the relationship between total time spent coding and use of AI, I will create a violin graph to illustrate the relationship.</p>
<div id="79d54e2f" class="cell" data-execution_count="52">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>ai_coding <span class="op">=</span> data[[<span class="st">'YearsCode'</span>, <span class="st">'AISelect'</span>]].dropna()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>ai_coding[<span class="st">'YearsCode'</span>] <span class="op">=</span> ai_coding[<span class="st">'YearsCode'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>sns.violinplot(ai_coding, x<span class="op">=</span><span class="st">'YearsCode'</span>, y<span class="op">=</span><span class="st">'AISelect'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-19-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="years-coding-at-work-and-use-of-ai" class="level4">
<h4 class="anchored" data-anchor-id="years-coding-at-work-and-use-of-ai">Years Coding at Work and Use of AI</h4>
<p>Similar to the previous attribute, I will also create a violin graph to illustrate the relationship between years coding at work and the developer’s incorporation of AI.</p>
<div id="b0908e90" class="cell" data-execution_count="53">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ai_coding_pro <span class="op">=</span> data[[<span class="st">'AISelect'</span>, <span class="st">'YearsCodePro'</span>]].dropna()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>ai_coding_pro[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> ai_coding_pro[<span class="st">'YearsCodePro'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>sns.violinplot(ai_coding_pro, x<span class="op">=</span><span class="st">'YearsCodePro'</span>, y<span class="op">=</span><span class="st">'AISelect'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="languages-extensively-worked-with-and-use-of-ai" class="level4">
<h4 class="anchored" data-anchor-id="languages-extensively-worked-with-and-use-of-ai">Languages Extensively Worked With and Use of AI</h4>
<p>To explore the relationship between language extensively used and incorporation of AI, I will create another table showing each developer’s response.</p>
<div id="c038a60e" class="cell" data-execution_count="54">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>ai_lang <span class="op">=</span> data[[<span class="st">'LanguageHaveWorkedWith'</span>, <span class="st">'AISelect'</span>]].dropna()</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>ai_lang[<span class="st">'LanguageHaveWorkedWith'</span>] <span class="op">=</span> ai_lang[<span class="st">'LanguageHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>unique_lang_encoded <span class="op">=</span> mlb.fit_transform(ai_lang[<span class="st">'LanguageHaveWorkedWith'</span>])</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>ai_lang_choice <span class="op">=</span> pd.DataFrame(unique_lang_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>ai_lang_encoded <span class="op">=</span> pd.concat([ai_lang.drop(columns<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>), ai_lang_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>ai_lang_encoded.dropna()</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>melted <span class="op">=</span> ai_lang_encoded.melt(id_vars<span class="op">=</span><span class="st">'AISelect'</span>, var_name<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>, value_name<span class="op">=</span><span class="st">'Used'</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>bar_data <span class="op">=</span> melted.groupby([<span class="st">'LanguageHaveWorkedWith'</span>, <span class="st">'AISelect'</span>])[<span class="st">'Used'</span>].mean().reset_index()</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">20</span>))</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>bar_data, y<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>, x<span class="op">=</span><span class="st">'Used'</span>, hue<span class="op">=</span><span class="st">'AISelect'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-21-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="further-exploratory-analysis" class="level3">
<h3 class="anchored" data-anchor-id="further-exploratory-analysis">Further Exploratory Analysis</h3>
<section id="coding-activities-and-annual-salary" class="level4">
<h4 class="anchored" data-anchor-id="coding-activities-and-annual-salary">Coding Activities and Annual Salary</h4>
<p>One attribute I thought was initially useful for predicting annual salary, but was ultimately not able to include in my model, was the relationship between a respondent’s salary and whether they programmed outside of the workplace or not. This attribute’s utility comes from the fact that many companies expect candidates to have “prior programming experience” normally in the form of educational or personal projects. The hypothesis is that, if respondents spend more time outside of work programming, they are gaining more skills and becoming more proficient in the language of choice as well as software engineering skills.</p>
<div id="d80f45ff" class="cell">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>salary_activities <span class="op">=</span> data[[<span class="st">'CodingActivities'</span>,<span class="st">'ConvertedCompYearly'</span>]].dropna()</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>salary_activities</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>mlb <span class="op">=</span> MultiLabelBinarizer()</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>unique_activities_encoded <span class="op">=</span> mlb.fit_transform(salary_activities[<span class="st">'CodingActivities'</span>])</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>activity_choice <span class="op">=</span> pd.DataFrame(unique_activities_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>activities_encoded <span class="op">=</span> pd.concat([salary_activities.drop(columns<span class="op">=</span><span class="st">'CodingActivities'</span>), activity_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>avg_comp_yearly <span class="op">=</span> {}</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> activity <span class="kw">in</span> activities_encoded.drop(columns<span class="op">=</span><span class="st">'ConvertedCompYearly'</span>):</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    avg_comp <span class="op">=</span> activities_encoded.loc[activities_encoded[activity].astype(<span class="bu">bool</span>), <span class="st">'ConvertedCompYearly'</span>].mean()</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    avg_comp_yearly[activity] <span class="op">=</span> avg_comp</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>avg_salary_df <span class="op">=</span> pd.DataFrame(<span class="bu">list</span>(avg_comp_yearly.items()), columns<span class="op">=</span>[<span class="st">'CodingActivities'</span>, <span class="st">'AverageCompYearly'</span>])</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>avg_salary_df <span class="op">=</span> avg_salary_df.sort_values(by<span class="op">=</span><span class="st">'AverageCompYearly'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">6</span>))</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>plt.yscale(<span class="st">'log'</span>)</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=-</span><span class="dv">90</span>)</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>avg_salary_df, x<span class="op">=</span><span class="st">'CodingActivities'</span>, y<span class="op">=</span><span class="st">'AverageCompYearly'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>([0,
  1,
  2,
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13,
  14,
  15,
  16,
  17,
  18,
  19,
  20,
  21,
  22,
  23,
  24,
  25,
  26,
  27,
  28,
  29,
  30,
  31,
  32,
  33,
  34,
  35,
  36,
  37,
  38],
 [Text(0, 0, 'O'),
  Text(1, 0, ')'),
  Text(2, 0, ':'),
  Text(3, 0, '('),
  Text(4, 0, '’'),
  Text(5, 0, 'I'),
  Text(6, 0, 'h'),
  Text(7, 0, 'B'),
  Text(8, 0, '/'),
  Text(9, 0, 'F'),
  Text(10, 0, 'S'),
  Text(11, 0, 'g'),
  Text(12, 0, 'P'),
  Text(13, 0, 'v'),
  Text(14, 0, 'f'),
  Text(15, 0, 'd'),
  Text(16, 0, 'w'),
  Text(17, 0, 'k'),
  Text(18, 0, ';'),
  Text(19, 0, 'm'),
  Text(20, 0, 'u'),
  Text(21, 0, 'n'),
  Text(22, 0, 's'),
  Text(23, 0, 'l'),
  Text(24, 0, 't'),
  Text(25, 0, 'i'),
  Text(26, 0, 'p'),
  Text(27, 0, 'c'),
  Text(28, 0, 'a'),
  Text(29, 0, '-'),
  Text(30, 0, 'r'),
  Text(31, 0, ' '),
  Text(32, 0, 'e'),
  Text(33, 0, 'H'),
  Text(34, 0, 'y'),
  Text(35, 0, 'j'),
  Text(36, 0, 'C'),
  Text(37, 0, 'b'),
  Text(38, 0, 'o')])</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-22-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="number-of-respondents-by-country" class="level4">
<h4 class="anchored" data-anchor-id="number-of-respondents-by-country">Number of Respondents by Country</h4>
<p>A visualization I greatly enjoyed making was plotting the number of respondents by the country they chose on the survey. After consideration, I decided not to include this attribute because in the software engineering industry and open source community, one’s country of origin should not have a great impact on the languages respondents use, the age the average respondent is, and so on. The only feature this would significantly impact would be a respondent’s annual salary, as the price of fair wages, cost of living, and necessities vary greatly country-by-country.</p>
<div id="2ee1b0ab" class="cell" data-execution_count="56">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> gpd.read_file(<span class="st">'data/geopandas/ne_110m_admin_0_countries.dbf'</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>world[<span class="st">'country_centroid'</span>] <span class="op">=</span> world.to_crs(epsg<span class="op">=</span><span class="dv">4326</span>).centroid</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>countries <span class="op">=</span> data[<span class="st">'Country'</span>].dropna()</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>country_counts <span class="op">=</span> Counter(countries)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">30</span>,<span class="dv">30</span>))</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>world.plot(ax<span class="op">=</span>ax)</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>world[<span class="st">'country_centroid'</span>].plot(ax<span class="op">=</span>ax, color<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> idx, label <span class="kw">in</span> <span class="bu">enumerate</span>(country_counts.values()):</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>        ax.annotate(label, (world[<span class="st">'country_centroid'</span>].x[idx], world[<span class="st">'country_centroid'</span>].y[idx]))</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">continue</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/var/folders/lm/1b6g2_5j72j1h3qmrgj124dh0000gn/T/ipykernel_6054/2222352473.py:2: UserWarning: Geometry is in a geographic CRS. Results from 'centroid' are likely incorrect. Use 'GeoSeries.to_crs()' to re-project geometries to a projected CRS before this operation.

  world['country_centroid'] = world.to_crs(epsg=4326).centroid</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="so_eda_files/figure-html/cell-23-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="models" class="level2">
<h2 class="anchored" data-anchor-id="models">Models</h2>
<p>ML with Python Chapter 9</p>
<section id="least-absolute-shrinkage-and-selection-operator-lasso" class="level3">
<h3 class="anchored" data-anchor-id="least-absolute-shrinkage-and-selection-operator-lasso">Least Absolute Shrinkage and Selection Operator (Lasso)</h3>
<p>For my initial research question, I am predicting a quantity, but my data contains less than 100,000 samples. Additionally, I am selecting a subset of features I deem are more important in influencing the expected annual compensation as opposed to including all features. According to the scikit-learn cheat sheet, I should use the Least Absolute Shrinkage and Selection Operator (Lasso) regression. Lasso regression works by tuning the weight of each feature to reduce the complexity of the entire model.</p>
</section>
<section id="linear-support-vector-classification-svc" class="level3">
<h3 class="anchored" data-anchor-id="linear-support-vector-classification-svc">Linear Support Vector Classification (SVC)</h3>
<p>I used Linear Support Vector Classification to try to answer another research hypothesis, which is attempting to predict whether a respondent uses AI in their workflow based upon the answers they provide in the Stack Overflow Developer Survey. Linear SVC is an optimal classification method because it is effective for this dataset and the feature I am trying to predict. To answer this hypothesis, I will use my less than 65,437 samples with labeled features to categorize each sample.</p>
</section>
</section>
<section id="model-results" class="level2">
<h2 class="anchored" data-anchor-id="model-results">Model Results</h2>
<section id="predictors-of-annual-salary" class="level3">
<h3 class="anchored" data-anchor-id="predictors-of-annual-salary">Predictors of Annual Salary</h3>
<p>My model for predicting annual salary showed that a select group of features, including years of coding, years of coding at work, and work experience, greatly contributed to the expected salary of a respondent. However, every other attribute used in the training had no impact on the expected salary, as evidenced by the model’s mean absolute error, mean squared error, and r2 score. This is also supported by the feature coefficients of the lasso regression model used to answer this research question.</p>
<div id="84e158e2" class="cell" data-execution_count="57">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting relevant columns for my model</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>salary_data <span class="op">=</span> data[[</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Categorical vars which need one-hot encoding</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Age'</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Numeric variables</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'MainBranch'</span>,</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'YearsCode'</span>,</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'YearsCodePro'</span>,</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'WorkExp'</span>,</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'LanguageHaveWorkedWith'</span>,</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Target variable</span></span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'ConvertedCompYearly'</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>]].dropna()</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Manual encoding of LanguageHaveWorkedWith</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>raw_langs <span class="op">=</span> salary_data[<span class="st">'LanguageHaveWorkedWith'</span>].dropna()</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>unique_langs <span class="op">=</span> <span class="bu">set</span>()</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> entry <span class="kw">in</span> raw_langs:</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> lang <span class="kw">in</span> entry.split(<span class="st">';'</span>):</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>        unique_langs.add(lang)</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-24"><a href="#cb28-24" aria-hidden="true" tabindex="-1"></a>salary_data[<span class="st">'LanguageHaveWorkedWith'</span>] <span class="op">=</span> salary_data[<span class="st">'LanguageHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb28-25"><a href="#cb28-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-26"><a href="#cb28-26" aria-hidden="true" tabindex="-1"></a>mlb <span class="op">=</span> MultiLabelBinarizer()</span>
<span id="cb28-27"><a href="#cb28-27" aria-hidden="true" tabindex="-1"></a>unique_langs_encoded <span class="op">=</span> mlb.fit_transform(salary_data[<span class="st">'LanguageHaveWorkedWith'</span>])</span>
<span id="cb28-28"><a href="#cb28-28" aria-hidden="true" tabindex="-1"></a>lang_choice <span class="op">=</span> pd.DataFrame(unique_langs_encoded, columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb28-29"><a href="#cb28-29" aria-hidden="true" tabindex="-1"></a>langs_encoded <span class="op">=</span> pd.concat([salary_data.drop(columns<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>), lang_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb28-30"><a href="#cb28-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-31"><a href="#cb28-31" aria-hidden="true" tabindex="-1"></a><span class="bu">list</span>(langs_encoded.columns)</span>
<span id="cb28-32"><a href="#cb28-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-33"><a href="#cb28-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning YearsCode and YearsCodePro</span></span>
<span id="cb28-34"><a href="#cb28-34" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_years(year):</span>
<span id="cb28-35"><a href="#cb28-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> year <span class="op">==</span> <span class="st">'Less than 1 year'</span> <span class="kw">or</span> pd.isnull(year):</span>
<span id="cb28-36"><a href="#cb28-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.int64(<span class="dv">0</span>)</span>
<span id="cb28-37"><a href="#cb28-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> year <span class="op">==</span> <span class="st">'More than 50 years'</span>:</span>
<span id="cb28-38"><a href="#cb28-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.int64(<span class="dv">51</span>)</span>
<span id="cb28-39"><a href="#cb28-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb28-40"><a href="#cb28-40" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> np.int64(year)</span>
<span id="cb28-41"><a href="#cb28-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-42"><a href="#cb28-42" aria-hidden="true" tabindex="-1"></a><span class="co"># langs_encoded['YearsCode'].unique()</span></span>
<span id="cb28-43"><a href="#cb28-43" aria-hidden="true" tabindex="-1"></a>langs_encoded[<span class="st">'YearsCode'</span>] <span class="op">=</span> langs_encoded[<span class="st">'YearsCode'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb28-44"><a href="#cb28-44" aria-hidden="true" tabindex="-1"></a>langs_encoded[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> langs_encoded[<span class="st">'YearsCodePro'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb28-45"><a href="#cb28-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-46"><a href="#cb28-46" aria-hidden="true" tabindex="-1"></a><span class="co"># One-Hot Encoding everything else</span></span>
<span id="cb28-47"><a href="#cb28-47" aria-hidden="true" tabindex="-1"></a>salary_data_encoded <span class="op">=</span> pd.get_dummies(</span>
<span id="cb28-48"><a href="#cb28-48" aria-hidden="true" tabindex="-1"></a>    langs_encoded,</span>
<span id="cb28-49"><a href="#cb28-49" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[</span>
<span id="cb28-50"><a href="#cb28-50" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Age'</span>,</span>
<span id="cb28-51"><a href="#cb28-51" aria-hidden="true" tabindex="-1"></a>        <span class="st">'MainBranch'</span></span>
<span id="cb28-52"><a href="#cb28-52" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb28-53"><a href="#cb28-53" aria-hidden="true" tabindex="-1"></a>    drop_first<span class="op">=</span><span class="va">True</span></span>
<span id="cb28-54"><a href="#cb28-54" aria-hidden="true" tabindex="-1"></a>).dropna()</span>
<span id="cb28-55"><a href="#cb28-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-56"><a href="#cb28-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Model and Prediction</span></span>
<span id="cb28-57"><a href="#cb28-57" aria-hidden="true" tabindex="-1"></a>predictor_cols <span class="op">=</span> <span class="bu">list</span>(salary_data_encoded.columns)</span>
<span id="cb28-58"><a href="#cb28-58" aria-hidden="true" tabindex="-1"></a>predictor_cols.remove(<span class="st">'ConvertedCompYearly'</span>)</span>
<span id="cb28-59"><a href="#cb28-59" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> salary_data_encoded[predictor_cols]</span>
<span id="cb28-60"><a href="#cb28-60" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> salary_data_encoded[[<span class="st">'ConvertedCompYearly'</span>]]</span>
<span id="cb28-61"><a href="#cb28-61" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, random_state<span class="op">=</span><span class="dv">10</span>, test_size<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb28-62"><a href="#cb28-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-63"><a href="#cb28-63" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb28-64"><a href="#cb28-64" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> linear_model.Lasso(alpha<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb28-65"><a href="#cb28-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-66"><a href="#cb28-66" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> scaler.fit_transform(X_train)</span>
<span id="cb28-67"><a href="#cb28-67" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> scaler.transform(X_test)</span>
<span id="cb28-68"><a href="#cb28-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-69"><a href="#cb28-69" aria-hidden="true" tabindex="-1"></a>reg.fit(X_train, y_train)</span>
<span id="cb28-70"><a href="#cb28-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-71"><a href="#cb28-71" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> reg.predict(X_test)</span>
<span id="cb28-72"><a href="#cb28-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-73"><a href="#cb28-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Testing other alphas</span></span>
<span id="cb28-74"><a href="#cb28-74" aria-hidden="true" tabindex="-1"></a>param_grid <span class="op">=</span> {</span>
<span id="cb28-75"><a href="#cb28-75" aria-hidden="true" tabindex="-1"></a>    <span class="st">'alpha'</span>: [<span class="fl">0.0001</span>, <span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">100000</span>]</span>
<span id="cb28-76"><a href="#cb28-76" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb28-77"><a href="#cb28-77" aria-hidden="true" tabindex="-1"></a>lasso_cv <span class="op">=</span> GridSearchCV(reg, param_grid, cv<span class="op">=</span><span class="dv">3</span>, n_jobs<span class="op">=-</span><span class="dv">1</span>)</span>
<span id="cb28-78"><a href="#cb28-78" aria-hidden="true" tabindex="-1"></a>lasso_cv.fit(X_train, y_train)</span>
<span id="cb28-79"><a href="#cb28-79" aria-hidden="true" tabindex="-1"></a>y_pred2 <span class="op">=</span> lasso_cv.predict(X_test)</span>
<span id="cb28-80"><a href="#cb28-80" aria-hidden="true" tabindex="-1"></a>mean_absolute_error(y_test, y_pred2)</span>
<span id="cb28-81"><a href="#cb28-81" aria-hidden="true" tabindex="-1"></a>lasso_cv.best_estimator_</span>
<span id="cb28-82"><a href="#cb28-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-83"><a href="#cb28-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Using best alpha</span></span>
<span id="cb28-84"><a href="#cb28-84" aria-hidden="true" tabindex="-1"></a>new_lasso <span class="op">=</span> linear_model.Lasso(alpha<span class="op">=</span><span class="dv">10000</span>)</span>
<span id="cb28-85"><a href="#cb28-85" aria-hidden="true" tabindex="-1"></a>new_lasso.fit(X_train, y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="57">
<style>#sk-container-id-3 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: black;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-3 {
  color: var(--sklearn-color-text);
}

#sk-container-id-3 pre {
  padding: 0;
}

#sk-container-id-3 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-3 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-3 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-3 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-3 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-3 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-3 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-3 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-3 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-3 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-3 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-3 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-3 label.sk-toggleable__label {
  cursor: pointer;
  display: block;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
}

#sk-container-id-3 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "▸";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-3 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-3 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-3 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-3 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "▾";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-3 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-3 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-3 div.sk-label label.sk-toggleable__label,
#sk-container-id-3 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-3 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-3 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-3 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-3 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-3 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-3 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-3 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-3 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 1ex;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-3 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-3 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-3 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-3 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-3" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>Lasso(alpha=10000)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br>On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden=""><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-3" type="checkbox" checked=""><label for="sk-estimator-id-3" class="sk-toggleable__label fitted sk-toggleable__label-arrow fitted">&nbsp;&nbsp;Lasso<a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.5/modules/generated/sklearn.linear_model.Lasso.html">?<span>Documentation for Lasso</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></label><div class="sk-toggleable__content fitted"><pre>Lasso(alpha=10000)</pre></div> </div></div></div></div>
</div>
</div>
<div id="6212f662" class="cell" data-execution_count="58">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Making a custom prediction</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>sample <span class="op">=</span> {key: <span class="va">False</span> <span class="cf">for</span> key <span class="kw">in</span> <span class="bu">list</span>(salary_data_encoded.columns)}</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>sample.pop(<span class="st">'ConvertedCompYearly'</span>)</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>sample[<span class="st">'YearsCode'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>sample[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>sample[<span class="st">'WorkExp'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>prediction <span class="op">=</span> new_lasso.predict([<span class="bu">list</span>(sample.values())])</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>prediction</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>array([84052.31150794])</code></pre>
</div>
</div>
<div id="5531e837" class="cell" data-execution_count="59">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seeing Coefficients</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>new_lasso.coef_.tolist()</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>new_lasso_wgts <span class="op">=</span> {attr:wgt <span class="cf">for</span> attr, wgt <span class="kw">in</span> <span class="bu">zip</span>(<span class="bu">list</span>(salary_data_encoded.columns), new_lasso.coef_.tolist())}</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>new_lasso_wgts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>{'YearsCode': 1257.579562500526,
 'YearsCodePro': 10405.071099939038,
 'WorkExp': 6438.887449488871,
 'ConvertedCompYearly': -0.0,
 'Ada': 0.0,
 'Apex': 0.0,
 'Assembly': 0.0,
 'Bash/Shell (all shells)': 0.0,
 'C': -0.0,
 'C#': -0.0,
 'C++': 0.0,
 'Clojure': 0.0,
 'Cobol': 0.0,
 'Crystal': -0.0,
 'Dart': -0.0,
 'Delphi': -0.0,
 'Elixir': -0.0,
 'Erlang': -0.0,
 'F#': -0.0,
 'Fortran': 0.0,
 'GDScript': 0.0,
 'Go': -0.0,
 'Groovy': -0.0,
 'HTML/CSS': -0.0,
 'Haskell': -0.0,
 'Java': -0.0,
 'JavaScript': 0.0,
 'Julia': 0.0,
 'Kotlin': 0.0,
 'Lisp': -0.0,
 'Lua': 0.0,
 'MATLAB': -0.0,
 'MicroPython': 0.0,
 'Nim': -0.0,
 'OCaml': 0.0,
 'Objective-C': -0.0,
 'PHP': 0.0,
 'Perl': -0.0,
 'PowerShell': 0.0,
 'Prolog': 0.0,
 'Python': 0.0,
 'R': 0.0,
 'Ruby': 0.0,
 'Rust': 0.0,
 'SQL': -0.0,
 'Scala': -0.0,
 'Solidity': -0.0,
 'Swift': -0.0,
 'TypeScript': -0.0,
 'VBA': 0.0,
 'Visual Basic (.Net)': 0.0,
 'Zephyr': 0.0,
 'Zig': -0.0,
 'Age_25-34 years old': 0.0,
 'Age_35-44 years old': 0.0,
 'Age_45-54 years old': -0.0,
 'Age_55-64 years old': 0.0,
 'Age_65 years or older': 0.0,
 'Age_Prefer not to say': -0.0,
 'Age_Under 18 years old': -0.0}</code></pre>
</div>
</div>
</section>
<section id="predictors-of-ai-incorporation" class="level3">
<h3 class="anchored" data-anchor-id="predictors-of-ai-incorporation">Predictors of AI Incorporation</h3>
<p>I am optimistic about my model for classifying respondents regarding their use of AI in their workflows based upon their survey responses. The confusion matrix and score of my SVC model suggest that the model is heading in the right direction. Looking at the coefficients of my lasso model, every feature has some assigned, admittedly low, weight to it. This suggests that the model takes nearly every feature into account when characterizing a prediction.</p>
<div id="939aa658" class="cell" data-execution_count="62">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting relevant columns</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>clean_data <span class="op">=</span> data[[</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a> <span class="st">'MainBranch'</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a> <span class="st">'Age'</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a> <span class="st">'Employment'</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a> <span class="st">'EdLevel'</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a> <span class="st">'YearsCode'</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a> <span class="st">'YearsCodePro'</span>,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a> <span class="st">'DevType'</span>,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a> <span class="st">'LanguageHaveWorkedWith'</span>,</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a> <span class="st">'AISearchDevHaveWorkedWith'</span>,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a> <span class="st">'AISelect'</span>]].dropna()</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>TARGET_COL <span class="op">=</span> <span class="st">'AISelect'</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning Data</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>clean_data[<span class="st">'LanguageHaveWorkedWith'</span>] <span class="op">=</span> clean_data[<span class="st">'LanguageHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>mlb <span class="op">=</span> MultiLabelBinarizer()</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>unique_langs_encoded <span class="op">=</span> mlb.fit_transform(clean_data[<span class="st">'LanguageHaveWorkedWith'</span>])</span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>lang_choice <span class="op">=</span> pd.DataFrame(unique_langs_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>langs_encoded <span class="op">=</span> pd.concat([clean_data.drop(columns<span class="op">=</span><span class="st">'LanguageHaveWorkedWith'</span>), lang_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a>langs_encoded[<span class="st">'AISearchDevHaveWorkedWith'</span>] <span class="op">=</span> langs_encoded[<span class="st">'AISearchDevHaveWorkedWith'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>unique_aisearch_encoded <span class="op">=</span> mlb.fit_transform(langs_encoded[<span class="st">'AISearchDevHaveWorkedWith'</span>])</span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>aisearch_choice <span class="op">=</span> pd.DataFrame(unique_aisearch_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>ai_encoded <span class="op">=</span> pd.concat([langs_encoded.drop(columns<span class="op">=</span><span class="st">'AISearchDevHaveWorkedWith'</span>), aisearch_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>ai_encoded[<span class="st">'Employment'</span>] <span class="op">=</span> ai_encoded[<span class="st">'Employment'</span>].<span class="bu">apply</span>(str_to_list)</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>unique_employment_encoded <span class="op">=</span> mlb.fit_transform(ai_encoded[<span class="st">'Employment'</span>])</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>employment_choice <span class="op">=</span> pd.DataFrame(unique_employment_encoded.astype(<span class="bu">bool</span>), columns<span class="op">=</span>mlb.classes_)</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>employment_encoded <span class="op">=</span> pd.concat([ai_encoded.drop(columns<span class="op">=</span><span class="st">'Employment'</span>), employment_choice], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a><span class="co"># One-Hot Encoding everything else</span></span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a>encoded_data <span class="op">=</span> pd.get_dummies(</span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a>    employment_encoded,</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">'MainBranch'</span>,</span>
<span id="cb33-41"><a href="#cb33-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Age'</span>,</span>
<span id="cb33-42"><a href="#cb33-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">'DevType'</span>,</span>
<span id="cb33-43"><a href="#cb33-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">'EdLevel'</span>,</span>
<span id="cb33-44"><a href="#cb33-44" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb33-45"><a href="#cb33-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-46"><a href="#cb33-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-47"><a href="#cb33-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Cleaning YearsCode and YearsCodePro</span></span>
<span id="cb33-48"><a href="#cb33-48" aria-hidden="true" tabindex="-1"></a>encoded_data[<span class="st">'YearsCode'</span>] <span class="op">=</span> encoded_data[<span class="st">'YearsCode'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb33-49"><a href="#cb33-49" aria-hidden="true" tabindex="-1"></a>encoded_data[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> encoded_data[<span class="st">'YearsCodePro'</span>].<span class="bu">apply</span>(clean_years)</span>
<span id="cb33-50"><a href="#cb33-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-51"><a href="#cb33-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Encoding AISelect</span></span>
<span id="cb33-52"><a href="#cb33-52" aria-hidden="true" tabindex="-1"></a>encoded_data[<span class="st">'AISelect'</span>] <span class="op">=</span> encoded_data[<span class="st">'AISelect'</span>].<span class="bu">map</span>(</span>
<span id="cb33-53"><a href="#cb33-53" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb33-54"><a href="#cb33-54" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Yes'</span>: <span class="va">True</span>,</span>
<span id="cb33-55"><a href="#cb33-55" aria-hidden="true" tabindex="-1"></a>        <span class="st">'No, but I plan to soon'</span>: <span class="va">False</span>,</span>
<span id="cb33-56"><a href="#cb33-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">'No, and I don</span><span class="ch">\'</span><span class="st">t plan to'</span>: <span class="va">False</span>,</span>
<span id="cb33-57"><a href="#cb33-57" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-58"><a href="#cb33-58" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-59"><a href="#cb33-59" aria-hidden="true" tabindex="-1"></a>encoded_data <span class="op">=</span> encoded_data.dropna()</span>
<span id="cb33-60"><a href="#cb33-60" aria-hidden="true" tabindex="-1"></a><span class="co"># list(encoded_data.columns)</span></span>
<span id="cb33-61"><a href="#cb33-61" aria-hidden="true" tabindex="-1"></a>obj_cols <span class="op">=</span> <span class="bu">list</span>(encoded_data.select_dtypes(<span class="bu">object</span>).columns)</span>
<span id="cb33-62"><a href="#cb33-62" aria-hidden="true" tabindex="-1"></a>encoded_data[obj_cols] <span class="op">=</span> encoded_data[obj_cols].astype(<span class="bu">bool</span>)</span>
<span id="cb33-63"><a href="#cb33-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-64"><a href="#cb33-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Model and Prediction</span></span>
<span id="cb33-65"><a href="#cb33-65" aria-hidden="true" tabindex="-1"></a>pred_cols <span class="op">=</span> <span class="bu">list</span>(encoded_data.columns)</span>
<span id="cb33-66"><a href="#cb33-66" aria-hidden="true" tabindex="-1"></a>pred_cols.remove(TARGET_COL)</span>
<span id="cb33-67"><a href="#cb33-67" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> encoded_data[[TARGET_COL]]</span>
<span id="cb33-68"><a href="#cb33-68" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> encoded_data[pred_cols]</span>
<span id="cb33-69"><a href="#cb33-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-70"><a href="#cb33-70" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X,y,test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb33-71"><a href="#cb33-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-72"><a href="#cb33-72" aria-hidden="true" tabindex="-1"></a>clf <span class="op">=</span> LinearSVC()</span>
<span id="cb33-73"><a href="#cb33-73" aria-hidden="true" tabindex="-1"></a>clf.fit(X_train, y_train)</span>
<span id="cb33-74"><a href="#cb33-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-75"><a href="#cb33-75" aria-hidden="true" tabindex="-1"></a>clf.score(X_test, y_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/opt/anaconda3/lib/python3.12/site-packages/sklearn/utils/validation.py:1339: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>0.7758069206164583</code></pre>
</div>
</div>
<div id="fbe83ac6" class="cell" data-execution_count="63">
<details class="code-fold">
<summary>Show code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Making a prediction</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>sample <span class="op">=</span> {key: <span class="va">False</span> <span class="cf">for</span> key <span class="kw">in</span> <span class="bu">list</span>(encoded_data.select_dtypes(<span class="bu">bool</span>).columns)}</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>sample[<span class="st">'YearsCode'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>sample[<span class="st">'YearsCodePro'</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>sample.pop(<span class="st">'AISelect'</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>prediction <span class="op">=</span> clf.predict([<span class="bu">list</span>(sample.values())])</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>prediction</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/opt/anaconda3/lib/python3.12/site-packages/sklearn/base.py:493: UserWarning: X does not have valid feature names, but LinearSVC was fitted with feature names
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>array([ True])</code></pre>
</div>
</div>
</section>
<section id="lasso-model-results" class="level3">
<h3 class="anchored" data-anchor-id="lasso-model-results">Lasso Model Results</h3>
<p>Upon observing the coefficients produced by the lasso model regression used to predict a respondent’s expected salary, I am confident in saying that there is evidence to suggest that there is a relationship between a respondent’s expected annual salary and the following three attributes: total years spent coding, the total years spent coding at work, and one’s number of years of professional experience. I can also confidently say that the programming language used and the age backet of the respondent do not have any significant impact on expected salary.</p>
</section>
<section id="linear-support-vector-classification-svc-results" class="level3">
<h3 class="anchored" data-anchor-id="linear-support-vector-classification-svc-results">Linear Support Vector Classification (SVC) Results</h3>
<p>When looking at the results produced by the confusion matrix and the score, I can say that a respondent’s Stack Overflow Developer Survey answers may be indicative of whether the respondent uses AI in their workflow or not. In light of this progress, I would like to continue refining the selection of features I use in my model in order to better understand which features are truly indicative of one’s incorporation of AI into their workflow.</p>
</section>
</section>
<section id="conclusions" class="level2">
<h2 class="anchored" data-anchor-id="conclusions">Conclusions</h2>
<p>In this report, I analyzed the relationships between respondent’s salary, their age bracket, the number of years they’ve been coding (personally and professionally), the amount of time they’ve been working, and their use of AI. Despite the small sample size (for data science standards), there is evidence to suggest that there is a relationship between at least a selection of a respondent’s answers and the salary they should be making. This is likely because companies derive an employee’s value from their potential contributions to the company, the amount of experience they have, and their expertise. A respondent’s total time spent coding, including education, for hobby, or for profession, could allow the respondent more time to learn new skills, collaborate wtih others, or practice implementing complicated design and architectural patterns and algorithms. Additionally, during an interview, a respondent’s previous work experience is one of the most important factors considered by companies in the hiring process. Surprisingly, a respondent’s age bracket seemed to play no significant role in determining their expected salary, which could be a sign of social progress in the software engineering industry, or could be the result of a small dataset.</p>
<p>As for the secondary model explored in this project, there is some evidence to suggest that a respondent’s survey response could be used to predict whether they use AI in their workflows. It is interesting to see the success reported by the confusion matrix and the linear SVC score. Similar to the previous model, there is a chance that more data needs to be analyzed, and more features need to be included to gain a clearer understanding of the relationship between the responses and AI usage, if one exists.</p>
<p>It is likely that I could improve my analysis in several ways. Firstly, it would be interesting to analyze the data for every year Stack Overflow offered their survey. I would take the questions which were asked every year, and investigate how different relationships and patters changed throughout time. Another way I could improve my analysis is to further investigate response data based upon country. Identifying relationships based on the country of a developer could shed light upon how the social, legal, and economic environment of a developer shapes their approaches and solutions to various problems.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>